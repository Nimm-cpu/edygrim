<!DOCTYPE HTML>
<html>

<head>
	<title>Edygrim | Rock DJ</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<link rel="stylesheet" href="assets/css/style.css" />
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="is-preload">

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Header -->
		<header id="header">
			<div class="logo">
				<span class="icon"><i class="fas fa-guitar"></i></span>
			</div>
			<div class="content">
				<div class="inner">
					<h1>Edygrim</h1>
					<p>Rock DJ | Mix Master | <br />

					<div class="quick-links">
						<a href="https://www.instagram.com/edygrimdj/" target="_blank"
							class="icon brands fa-instagram"></a>
						<a href="https://open.spotify.com/user/edygrim" target="_blank"
							class="icon brands fa-spotify"></a>
						<a href="https://wa.me/254714937005" target="_blank" class="icon brands fa-whatsapp"></a>
					</div>
				</div>
			</div>
			<nav>
				<ul>
					<li><a href="#intro">Home</a></li>
					<li><a href="#gigs">Gigs</a></li>
					<li><a href="#booking">Booking</a></li>
					<li><a href="#about">About</a></li>
					<li><a href="#contact">Connect</a></li>
				</ul>
			</nav>
		</header>

		<!-- Main -->
		<div id="main">

			<!-- Intro -->
			<article id="intro">
				<h2 class="major">Welcome</h2>
				<span class="image main"><img src="assets/css/eddy(1).webp" alt="Edygrim Rock DJ" /></span>
				<p>Bringing you the best of classic rock, hard rock, and metal. With years of experience in the scene,
					Edygrim knows how to electrify any crowd.</p>
				<p>Host of the monthly <strong>Rock Riot</strong> event - Nairobi's definitive rock night where music
					lovers gather to celebrate the power of rock music. Tickets available at <a
						href="http://www.a-list-events.com" target="_blank">www.a-list-events.com</a></p>
				<div class="stats">
					<div class="stat-item">
						<h3>500+</h3>
						<p>Gigs Played</p>
					</div>
					<div class="stat-item">
						<h3>100+</h3>
						<p>Mixes Created</p>
					</div>

				</div>
			</article>


			<!-- Gigs -->
			<article id="gigs">
				<h2 class="major">Upcoming Gigs</h2>
				<p>Catch me live:</p>

				<div class="gig-card">
					<h3>Rock Riot</h3>
					<span class="image main"><img src="assets/css/RR.webp" alt="Rock Riot Event" /></span>
					<p><strong>Every Last Saturday</strong><br>
						Nairobi's biggest rock party<br>
						Doors open: 7:00 PM<br>
						Tickets: <a href="http://www.a-list-events.com" target="_blank">www.a-list-events.com</a></p>
					<a href="http://www.a-list-events.com" target="_blank" class="button">Get Tickets</a>
				</div>

				<div class="gig-card">
					<h3>Upcoming Special Show</h3>
					<span class="image main"><img src="assets/css/Ed5.heic" alt="Special Show" /></span>
					<p><strong>Venue & Date TBA</strong><br>
						Special rock event featuring guest appearances<br>
						More details coming soon...</p>
					<button class="button"
						onclick="alert('Details coming soon! Follow on Instagram for updates.')">Notify Me</button>
				</div>

				
			</article>

			<!-- Booking -->
			<article id="booking">
				<h2 class="major">Book Edygrim</h2>
				<p>Ready to bring the rock to your event? Fill out the form below and I'll get back to you within 24
					hours.</p>

				<form id="booking-form" method="post" action="#">
					<div class="fields">
						<div class="field half">
							<label for="book-name">Name </label>
							<input type="text" name="book-name" id="book-name" required />
						</div>
						<div class="field half">
							<label for="book-email">Email</label>
							<input type="email" name="book-email" id="book-email" required />
						</div>
						<div class="field">
							<label for="book-event">Event Type</label>
							<select name="book-event" id="book-event" required>
								<option value="">Select Event Type</option>
								<option value="club">Club Night</option>
								<option value="private">Private Party</option>
								<option value="corporate">Corporate Event</option>
								<option value="festival">Festival</option>
								<option value="wedding">Wedding</option>
								<option value="other">Other</option>
							</select>
						</div>
						<div class="field half">
							<label for="book-date">Event Date</label>
							<input type="date" name="book-date" id="book-date" required />
						</div>
						<div class="field half">
							<label for="book-venue">Venue / Location</label>
							<input type="text" name="book-venue" id="book-venue" required />
						</div>
						<div class="field">
							<label for="book-details">Event Details & Requirements</label>
							<textarea name="book-details" id="book-details" rows="4"
								placeholder="Tell me about your event, expected guests, duration, special requests..."></textarea>
						</div>
						<div class="field">
							<label for="book-budget">Budget Range (KES)</label>
							<select name="book-budget" id="book-budget">
								<option value="">Select Budget Range</option>
								<option value="0-20000">Under 20,000</option>
								<option value="20000-50000">20,000 - 50,000</option>
								<option value="50000-100000">50,000 - 100,000</option>
								<option value="100000+">100,000+</option>
							</select>
						</div>
					</div>
					<ul class="actions">
						<li><input type="submit" value="Send Booking Request" class="primary" /></li>
						<li><input type="reset" value="Clear Form" /></li>
					</ul>
				</form>

				<div class="whatsapp-booking">
					<h4>Quick Booking via WhatsApp</h4>
					<p>Prefer to chat directly? Message me on WhatsApp:</p>
					<a href="https://wa.me/254714937005?text=Hi%20Edygrim,%20I'd%20like%20to%20book%20you%20for%20an%20event!"
						target="_blank" class="button whatsapp-btn">
						<i class="fab fa-whatsapp"></i> Book on WhatsApp
					</a>
				</div>
			</article>

			<!-- About -->
			<article id="about">
				<h2 class="major">About Edygrim</h2>
				<span class="image main"><img src="assets/css/Ed6.heic" alt="About Edygrim" /></span>
				<p>Edygrim is Nairobi's premier rock DJ, specializing in blending classic rock anthems with modern rock
					and metal tracks. With over a decade of experience in the music scene, he knows how to read a crowd
					and deliver exactly what rock fans want.</p>
				<p>Starting from humble beginnings playing in small Nairobi clubs, Edygrim has grown to become a staple
					in Kenya's rock community. His monthly event, <strong>Rock Riot</strong>, has become the go-to
					destination for rock enthusiasts in Nairobi.</p>
				<h3>What I Bring to Your Event:</h3>
				<ul>
					<li>Extensive rock music library spanning decades</li>
					<li>Professional DJ equipment and setup</li>
					<li>Experience with crowds from 50 to 5000 people</li>
					<li>Flexibility to adapt to any venue or event type</li>
					<li>Professionalism and reliability guaranteed</li>
				</ul>
				<h3>Music Style:</h3>
				<div class="music-tags">
					<span class="tag">Classic Rock</span>
					<span class="tag">Hard Rock</span>
					<span class="tag">Metal</span>
					<span class="tag">Alternative</span>
					<span class="tag">Rock Anthems</span>
					<span class="tag">90s Rock</span>
					<span class="tag">Modern Rock</span>
				</div>
			</article>

			<!-- Contact -->
			<article id="contact">
				<h2 class="major">Connect</h2>
				<p>Get in touch for bookings, collaborations, or just to talk rock music!</p>

				<div class="contact-info">
					<div class="contact-method">
						<h3><i class="fab fa-whatsapp"></i> WhatsApp</h3>
						<a href="https://wa.me/254714937005" target="_blank">+254 714 937 005</a>
					</div>

					<div class="contact-method">
						<h3><i class="fab fa-instagram"></i> Instagram</h3>
						<a href="https://www.instagram.com/edygrimdj/" target="_blank">@edygrimdj</a>
					</div>

					<div class="contact-method">
						<h3><i class="fab fa-spotify"></i> Spotify</h3>
						<a href="https://open.spotify.com/user/edygrim" target="_blank">edygrim</a>
					</div>

					<div class="contact-method">
						<h3><i class="fas fa-ticket-alt"></i> Rock Riot Tickets</h3>
						<a href="http://www.a-list-events.com" target="_blank">www.a-list-events.com</a>
					</div>
				</div>

				<h3>General Inquiries</h3>
				<form method="post" action="#">
					<div class="fields">
						<div class="field half">
							<label for="contact-name">Name</label>
							<input type="text" name="contact-name" id="contact-name" />
						</div>
						<div class="field half">
							<label for="contact-email">Email</label>
							<input type="text" name="contact-email" id="contact-email" />
						</div>
						<div class="field">
							<label for="contact-subject">Subject</label>
							<input type="text" name="contact-subject" id="contact-subject" />
						</div>
						<div class="field">
							<label for="contact-message">Message</label>
							<textarea name="contact-message" id="contact-message" rows="4"></textarea>
						</div>
					</div>
					<ul class="actions">
						<li><input type="submit" value="Send Message" class="primary" /></li>
						<li><input type="reset" value="Reset" /></li>
					</ul>
				</form>

				<ul class="icons">
					<li><a href="https://www.instagram.com/edygrimdj/" target="_blank"
							class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
					<li><a href="https://open.spotify.com/user/edygrim" target="_blank"
							class="icon brands fa-spotify"><span class="label">Spotify</span></a></li>
					<li><a href="https://wa.me/254714937005" target="_blank" class="icon brands fa-whatsapp"><span
								class="label">WhatsApp</span></a></li>
					<li><a href="mailto:booking@edygrim.com" class="icon solid fa-envelope"><span
								class="label">Email</span></a></li>
				</ul>
			</article>

		</div>

		<!-- Footer -->
		<footer id="footer">
			<p class="copyright">&copy; Edygrim Rock DJ.</p>
			<p>Nairobi, Kenya | <a href="https://wa.me/254714937005">+254 714 937 005</a></p>
			<p>Designed by iNimm_</p>

			<!-- Admin Dashboard Link - REMOVED display: none -->
			<div id="admin-link" style="margin-top: 1rem;">
				<a href="admin-login.html" class="icon solid fa-lock">
					<i class="fas fa-lock"></i> Admin Dashboard
				</a>
			</div>
		</footer>

	</div>

	<!-- BG -->
	<div id="bg"></div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>
	<script src="assets/js/custom.js"></script>
	<!-- Supabase -->


	<!-- In index.html, BEFORE the closing </body> tag, add this: -->
	<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
	<!-- Mobile-Friendly Booking System -->
<script>
	

    // Initialize Supabase for mobile compatibility
    console.log('üì± Initializing mobile-friendly booking system...');
    
    const SUPABASE_URL = 'https://ptoxjmirnqtjdwdzolnt.supabase.co';
    const SUPABASE_ANON_KEY = 'sb_publishable_TQzqZImbJ6u1c858SKFI9Q_lyoeM5wF';
    
    // Initialize Supabase client for public access (mobile & desktop)
    const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY, {
        auth: {
            autoRefreshToken: false,
            persistSession: false,
            detectSessionInUrl: false
        }
    });
    
    // Track submission state
    let isSubmitting = false;
    
    // Setup booking form
    function setupBookingForm() {
        const form = document.getElementById('booking-form');
        if (!form) {
            console.log('‚ö†Ô∏è Booking form not found');
            return;
        }
        
        console.log('‚úÖ Setting up booking form');
        
        // Remove any existing listeners
        form.removeEventListener('submit', handleBookingSubmit);
        
        // Add new listener
        form.addEventListener('submit', handleBookingSubmit);
    }
    
    // Handle booking submission
    async function handleBookingSubmit(e) {
        e.preventDefault();
        
        // Prevent double submission
        if (isSubmitting) {
            console.log('‚è≥ Please wait...');
            return;
        }
        
        isSubmitting = true;
        const form = e.target;
        const submitBtn = form.querySelector('input[type="submit"]');
        const originalText = submitBtn.value;
        
        // Show loading state
        submitBtn.value = 'Submitting...';
        submitBtn.disabled = true;
        
        try {
            // Get form data
            const formData = {
                name: document.getElementById('book-name').value.trim(),
                email: document.getElementById('book-email').value.trim(),
                event_type: document.getElementById('book-event').value,
                event_date: document.getElementById('book-date').value,
                venue: document.getElementById('book-venue').value.trim(),
                details: document.getElementById('book-details').value.trim(),
                budget_range: document.getElementById('book-budget').value,
                status: 'pending'
            };
            
            console.log('üì§ Submitting booking:', formData);
            
            // Validate required fields
            if (!formData.name || !formData.email || !formData.event_type || !formData.event_date || !formData.venue) {
                throw new Error('Please fill in all required fields');
            }
            
            // Submit to Supabase
            const { data, error } = await supabaseClient
                .from('booking_requests')
                .insert([formData]);
                
            if (error) {
                console.error('‚ùå Supabase error:', error);
                
                // Check for RLS error
                if (error.message.includes('row-level security') || error.message.includes('permission denied')) {
                    throw new Error('Server configuration issue. Please use WhatsApp booking for now: +254 714 937 005');
                }
                
                throw error;
            }
            
            console.log('‚úÖ Booking submitted successfully!');
            
            // Show success message
            alert('‚úÖ Booking submitted successfully!\n\nI\'ll contact you within 24 hours.\n\nüì± WhatsApp: +254 714 937 005');
            
            // Reset form
            form.reset();
            
        } catch (error) {
            console.error('‚ùå Submission error:', error);
            
            // User-friendly error message
            let userMessage = 'Error submitting booking. ';
            
            if (error.message.includes('WhatsApp')) {
                userMessage = error.message;
            } else if (error.message.includes('required fields')) {
                userMessage = error.message;
            } else if (error.message.includes('network') || error.message.includes('fetch')) {
                userMessage += 'Network issue. Please check your connection.';
            } else {
                userMessage += error.message;
            }
            
            // Add WhatsApp fallback
            userMessage += '\n\nAlternative: Book via WhatsApp\nüì± +254 714 937 005';
            
            alert('‚ùå ' + userMessage);
            
        } finally {
            // Re-enable form after delay
            setTimeout(() => {
                isSubmitting = false;
                if (submitBtn) {
                    submitBtn.value = originalText;
                    submitBtn.disabled = false;
                }
            }, 3000);
        }
    }
    
    // Setup contact form
    function setupContactForm() {
        const contactForm = document.querySelector('form[action="#"]:not(#booking-form)');
        if (!contactForm) return;
        
        console.log('‚úÖ Setting up contact form');
        
        contactForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = this.querySelector('input[type="submit"]');
            const originalText = submitBtn.value;
            submitBtn.value = 'Sending...';
            submitBtn.disabled = true;
            
            try {
                const formData = {
                    name: document.getElementById('contact-name')?.value.trim() || '',
                    email: document.getElementById('contact-email')?.value.trim() || '',
                    subject: document.getElementById('contact-subject')?.value.trim() || '',
                    message: document.getElementById('contact-message')?.value.trim() || ''
                };
                
                const { error } = await supabaseClient
                    .from('contact_messages')
                    .insert([formData]);
                    
                if (error) throw error;
                
                alert('‚úÖ Message sent!');
                this.reset();
                
            } catch (error) {
                console.error('Contact form error:', error);
                alert('‚ùå Error: ' + error.message + '\n\nTry WhatsApp: +254 714 937 005');
            } finally {
                submitBtn.value = originalText;
                submitBtn.disabled = false;
            }
        });
    }
    
    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', function() {
        console.log('üìÑ Page loaded');
        setupBookingForm();
        setupContactForm();
    });
    
    console.log('üéØ Mobile-friendly booking system ready');
</script>
</body>

</html>